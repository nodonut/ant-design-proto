{"version":3,"sources":["comps/HeaderComp.js","comps/SelectComp.js","App.js","reportWebVitals.js","index.js"],"names":["Header","Layout","Title","Typography","headerStyle","display","justifyContent","alignItems","paddingTop","paddingBottom","HeaderComp","menu","className","Item","target","style","color","marginTop","src","height","width","theme","mode","defaultSelectedKeys","margin","overlay","onClick","e","preventDefault","DownOutlined","client","ApolloClient","uri","cache","InMemoryCache","dataTable","Option","Select","OptGroup","children","key","dataIndex","render","theImageURL","title","sorter","a","b","name","length","sortDirections","rating","columnIds","category","SelectComp","state","columns","filteredCols","defaultValue","data","pagination","current","loading","buckets","searchInput","countries","airlineCols","handleChange","value","console","log","setState","filter","column","includes","this","loadData","populateBuckets","populateCountrySelect","num","query","gql","variables","page","then","result","currentPage","companies","paginatorInfo","totalPage","total","forEach","company","singleData","id","imageurl","logo","all_company_parameter_values","comp","value_text","parameter","toLowerCase","replace","push","pageSize","currentData","currentBucket","bucket","parameters","param","group","paramOptions","label","slice","catch","err","curCountry","country","index","props","marginBottom","placeholder","onChange","showSearch","onSearch","selectCountrySearch","bordered","left","handleSearch","dataSource","handleTableChange","Component","Footer","Content","App","padding","textAlign","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.106c07f2.chunk.js","sourcesContent":["import React from 'react';\nimport { Menu, Layout, Typography, Dropdown, Image } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\n\nconst { Header } = Layout;\nconst { Title } = Typography;\n\nconst headerStyle = {\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  paddingTop: '2em',\n  paddingBottom: '2em',\n};\n\nfunction HeaderComp() {\n  const menu = (\n    <Menu className={'categories'}>\n      <Menu.Item>\n        <a target='_blank'>Airlines</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Airports</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Hotels</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Mobility</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Activities/Events</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Amusement Parks</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Museums</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Cruises</a>\n      </Menu.Item>\n      <Menu.Item>\n        <a target='_blank'>Short Term Rentals</a>\n      </Menu.Item>\n    </Menu>\n  );\n  return (\n    <Header style={headerStyle}>\n      <Title style={{ color: 'whitesmoke', marginTop: '0.5em' }}>\n        <Image\n          src='https://app.safetravelbarometer.com/images/logos/stb-white-250-63.png'\n          height={40}\n          width={170}\n        />\n      </Title>\n      <Menu\n        theme='dark'\n        mode='horizontal'\n        defaultSelectedKeys={['1']}\n        style={{ margin: '2em 2em' }}\n      >\n        <Menu.Item key='1'>Dashboard</Menu.Item>\n      </Menu>\n      <Dropdown overlay={menu}>\n        <a className='ant-dropdown-link' onClick={(e) => e.preventDefault()}>\n          Categories <DownOutlined />\n        </a>\n      </Dropdown>\n      ,\n    </Header>\n  );\n}\n\nexport default HeaderComp;\n","import React, { Component } from 'react';\nimport { Select, Table, Input, Tooltip } from 'antd';\nimport { ApolloClient, InMemoryCache, gql } from '@apollo/client';\nimport {\n  CheckCircleTwoTone,\n  ExclamationCircleTwoTone,\n} from '@ant-design/icons';\n\n///////////////////////////\nconst client = new ApolloClient({\n  uri: 'https://dev.app.safetravelbarometer.com/api',\n  cache: new InMemoryCache(),\n});\nconst dataTable = [];\n\n///////////////////////////\nconst { Option, OptGroup } = Select;\n\nconst children = [\n  {\n    key: '01',\n    dataIndex: 'imageurl',\n    render: (theImageURL) => <img src={theImageURL} height={50} width={50} />,\n  },\n  {\n    key: '02',\n    title: 'Name',\n    dataIndex: 'name',\n    sorter: (a, b) => a.name.length - b.name.length,\n    sortDirections: ['descend'],\n  },\n  {\n    key: '03',\n    title: 'Rating',\n    dataIndex: 'rating',\n    sorter: (a, b) => a.rating - b.rating,\n    sortDirections: ['descend'],\n  },\n];\n\nconst paramContainer = [];\nlet columnIds = [];\nlet pageNumber = 1;\nlet category = 'Airlines';\n\nclass SelectComp extends Component {\n  state = {\n    columns: [...children],\n    filteredCols: [],\n    defaultValue: [],\n    columnIds,\n    data: [],\n    pagination: {\n      current: 1,\n    },\n    loading: false,\n    buckets: [],\n    searchInput: '',\n    countries: [],\n    category,\n    airlineCols: [],\n  };\n\n  componentDidMount() {\n    this.loadData();\n    this.populateBuckets();\n    this.populateCountrySelect();\n    this.setState({ defaultValue: [...columnIds] });\n  }\n\n  loadData(num = 1) {\n    this.setState({ loading: true });\n    const query = gql`\n      query companies($page: Int!, $category: Mixed!) {\n        companies(\n          page: $page\n          first: 100\n          hasCategory: { column: NAME, value: $category }\n        ) {\n          paginatorInfo {\n            perPage\n            hasMorePages\n            currentPage\n            total\n          }\n          data {\n            id\n            name\n            logo\n            rating\n            category {\n              id\n              name\n            }\n            all_company_parameter_values {\n              parameter {\n                name\n                id\n              }\n              value\n              value_text\n            }\n          }\n        }\n      }\n    `;\n    client\n      .query({\n        query: query,\n        variables: {\n          page: num,\n          category: this.state.category,\n        },\n      })\n      .then((result) => {\n        console.log(result);\n        let currentPage = result.data.companies.paginatorInfo.currentPage;\n        let totalPage = result.data.companies.paginatorInfo.total;\n        result.data.companies.data.forEach((company) => {\n          if (company.category.name === this.state.category) {\n            let singleData = {\n              key: company.id,\n              rating: company.rating,\n              imageurl: company.logo,\n              name: company.name,\n              category: company.category.name,\n            };\n            const { all_company_parameter_values } = company;\n            let value = '';\n            let valueText;\n            all_company_parameter_values.forEach((comp) => {\n              value = comp.value;\n              valueText = comp.value_text;\n              singleData[\n                comp.parameter.name.toLowerCase().replace(/[ ]/g, '_')\n              ] = value;\n            });\n            return dataTable.push(singleData);\n          }\n        });\n        this.setState({\n          loading: false,\n          data: dataTable,\n          pagination: {\n            current: currentPage,\n            total: totalPage,\n          },\n        });\n      });\n  }\n\n  handleTableChange(page) {\n    const query = gql`\n      query companies($page: Int!, $pageSize: Int!, $category: Mixed!) {\n        companies(\n          page: $page\n          first: $pageSize\n          hasCategory: { column: NAME, value: $category }\n        ) {\n          paginatorInfo {\n            perPage\n            hasMorePages\n            currentPage\n            total\n          }\n          data {\n            id\n            name\n            logo\n            rating\n            category {\n              id\n              name\n            }\n            all_company_parameter_values {\n              parameter {\n                name\n                id\n              }\n              value\n              value_text\n            }\n          }\n        }\n      }\n    `;\n    client\n      .query({\n        query: query,\n        variables: {\n          page: page.current,\n          pageSize: page.pageSize,\n          category: this.state.category,\n        },\n      })\n      .then((result) => {\n        let totalPage = result.data.companies.paginatorInfo.total;\n        let currentPage = result.data.companies.paginatorInfo.currentPage;\n        let currentData = [];\n        result.data.companies.data.forEach((company) => {\n          if (company.category.name === this.state.category) {\n            let singleData = {\n              key: company.id,\n              rating: company.rating,\n              imageurl: company.logo,\n              name: company.name,\n              category: company.category.name,\n            };\n            const { all_company_parameter_values } = company;\n            let value = '';\n            let valueText;\n            all_company_parameter_values.forEach((comp) => {\n              value = comp.value;\n              valueText = comp.value_text;\n              singleData[\n                comp.parameter.name.toLowerCase().replace(/[ ]/g, '_')\n              ] = value;\n            });\n            return currentData.push(singleData);\n          }\n        });\n        this.setState({\n          loading: false,\n          data: currentData,\n          pagination: {\n            current: currentPage,\n            total: totalPage,\n          },\n        });\n      });\n  }\n\n  handleChange = (value) => {\n    console.log(value);\n    this.setState({\n      filteredCols: [\n        ...children.filter((column) => column.dataIndex === 'imageurl'),\n        ...children.filter((column) => column.title === 'Name'),\n        ...children.filter((column) => column.title === 'Rating'),\n        ...children.filter((column) => value.includes(column.key)),\n      ],\n    });\n  };\n\n  populateBuckets() {\n    client\n      .query({\n        query: gql`\n          query {\n            buckets {\n              id\n              name\n              description\n              parameters {\n                id\n                name\n                category {\n                  id\n                  name\n                }\n                description\n              }\n            }\n          }\n        `,\n      })\n      .then((result) => {\n        let currentBucket = [];\n        result.data.buckets.forEach((bucket) => {\n          const { id, name } = bucket;\n          const { parameters } = bucket;\n          parameters.forEach((param) => {\n            if (param.category.name === this.state.category) {\n              children.push({\n                key: param.id,\n                title: param.name,\n                dataIndex: param.name.toLowerCase().replace(/[ ]/g, '_'),\n                group: param.name.toLowerCase(),\n                category: param.category.name,\n              });\n            }\n          });\n\n          children.forEach((column) => {\n            if (column.category === this.state.category) {\n              columnIds.push(column.key);\n            }\n          });\n\n          let paramOptions = [];\n          parameters.forEach((param) => {\n            paramOptions.push(<Option key={param.id}>{param.name}</Option>);\n          });\n          currentBucket.push(\n            <OptGroup key={id} label={name}>\n              {paramOptions}\n            </OptGroup>\n          );\n\n          paramOptions = [];\n        });\n\n        this.setState({\n          buckets: currentBucket,\n          filteredCols: [...children.slice(0, 8)],\n        });\n      });\n  }\n\n  handleSearch(value) {\n    this.setState({ loading: true });\n\n    // Query\n    const query = gql`\n      query($searchInput: Mixed!, $category: Mixed!) {\n        companies(\n          where: { column: NAME, value: $searchInput }\n          hasCategory: { column: NAME, value: $category }\n        ) {\n          data {\n            id\n            name\n            logo\n            rating\n            category {\n              id\n              name\n            }\n            all_company_parameter_values {\n              parameter {\n                name\n                id\n              }\n              value\n              value_text\n            }\n          }\n        }\n      }\n    `;\n\n    client\n      .query({\n        query: query,\n        variables: {\n          searchInput: value,\n          category: category,\n        },\n      })\n      .then((result) => {\n        let currentData = [];\n        result.data.companies.data.forEach((company) => {\n          let valueText = '';\n\n          let singleData = {\n            key: company.id,\n            rating: company.rating,\n            imageurl: company.logo,\n            name: company.name,\n            category: company.category.name,\n          };\n          if (company.category.name === this.state.category) {\n            const { all_company_parameter_values } = company;\n            let value = '';\n            all_company_parameter_values.forEach((comp) => {\n              value = comp.value;\n              valueText = comp.value_text;\n              singleData[\n                comp.parameter.name.toLowerCase().replace(/[ ]/g, '_')\n              ] = value;\n            });\n            return currentData.push(singleData);\n          }\n        });\n        this.setState({\n          loading: false,\n          data: currentData,\n        });\n      })\n      .catch((err) => this.loadData());\n  }\n\n  populateCountrySelect() {\n    const query = gql`\n      query {\n        countries {\n          name\n        }\n      }\n    `;\n    client\n      .query({\n        query: query,\n      })\n      .then((result) => {\n        let curCountry = [];\n        result.data.countries.forEach((country, index) => {\n          return curCountry.push(\n            <Option key={index + 1} value={country.name.toLowerCase()}>\n              {country.name}\n            </Option>\n          );\n        });\n        this.setState({\n          countries: [...curCountry],\n        });\n      });\n  }\n\n  countrySearch(value) {\n    this.state.countries.forEach((country) => {\n      if (country.props.value === value) {\n        this.setState({ countries: [country] });\n      }\n    });\n  }\n\n  selectCountrySearch(value) {\n    const query = gql`\n      query($country: Mixed!, $category: Mixed!) {\n        companies(\n          hasCountry: { column: NAME, value: $country }\n          hasCategory: { column: NAME, value: $category }\n        ) {\n          data {\n            id\n            name\n            rating\n            logo\n            category {\n              id\n              name\n            }\n            all_company_parameter_values {\n              parameter {\n                name\n                id\n              }\n              value\n              value_text\n            }\n          }\n        }\n      }\n    `;\n\n    client\n      .query({\n        query: query,\n        variables: {\n          country: value,\n          category: this.state.category,\n        },\n      })\n      .then((result) => {\n        let currentData = [];\n        result.data.companies.data.forEach((company) => {\n          let singleData = {\n            key: company.id,\n            rating: company.rating,\n            imageurl: company.logo,\n            name: company.name,\n            category: company.category.name,\n          };\n          if (company.category.name === this.state.category) {\n            const { all_company_parameter_values } = company;\n            let value = '';\n            let valueText = '';\n            all_company_parameter_values.forEach((comp) => {\n              value = comp.value;\n              valueText = comp.value_text;\n              singleData[\n                comp.parameter.name.toLowerCase().replace(/[ ]/g, '_')\n              ] = value;\n            });\n            return currentData.push(singleData);\n          }\n        });\n        this.setState({\n          loading: false,\n          data: currentData,\n        });\n      })\n      .catch((err) => this.loadData());\n  }\n\n  render() {\n    return (\n      <>\n        <Select\n          mode='multiple'\n          style={{ width: '100%', marginBottom: '1em' }}\n          placeholder='Select parameters'\n          onChange={this.handleChange}\n          defaultValue={this.state.defaultValue}\n        >\n          {this.state.buckets}\n        </Select>\n        <Select\n          showSearch\n          style={{ width: 200, marginTop: '1em' }}\n          placeholder='Select country'\n          onSearch={(value) => this.selectCountrySearch(value)}\n        >\n          {this.state.countries}\n        </Select>\n        ,\n        <Input\n          placeholder='Search'\n          bordered={false}\n          style={{ marginBottom: '2em', left: '80%' }}\n          onChange={(e) => this.handleSearch(e.target.value)}\n        />\n        <Table\n          columns={this.state.filteredCols}\n          dataSource={this.state.data}\n          loading={this.state.loading}\n          pagination={this.state.pagination}\n          onChange={(page) => this.handleTableChange(page)}\n        />\n      </>\n    );\n  }\n}\n\nexport default SelectComp;\n\n////\n// <Select\n// placeholder={'Select role'}\n// style={{ width: 200, marginBottom: '2em' }}\n// onChange={this.handleOptGrpChange}\n// >\n// <OptGroup label='COVID-19 Safety Protocols'>\n//   <Option key='face_mask'>Face Mask</Option>\n//   <Option key='therm_screen'>Thermal Screening</Option>\n//   <Option key='hand_sanitizer'>Hand Sanitizer</Option>\n//   <Option key='health_dec_form'>Health Declaration Form</Option>\n// </OptGroup>\n// <OptGroup label='Traveler Convenience'>\n//   <Option value='rebook_pol'>Rebooking Policy</Option>\n// </OptGroup>\n// <OptGroup label='Service Excellence'>\n//   <Option value='face_shields'>Face Shields</Option>\n// </OptGroup>\n// <OptGroup label='Traveler Experience'>\n//   <Option value='onboard_meals'>On Board Meals - Economy</Option>\n// </OptGroup>\n// </Select>\n// ,\n\n// <Select\n//   style={{ width: 120, float: 'right', marginTop: '1em' }}\n//   placeholder='Sort Order'\n//   onChange={(value) => this.sorter(value)}\n// >\n//   <Option value='ascend'>Ascending</Option>\n//   <Option value='descend'>Descending</Option>\n// </Select>\n","import './App.css';\nimport { Layout } from 'antd';\n\nimport HeaderComp from './comps/HeaderComp';\nimport SelectComp from './comps/SelectComp';\n\nconst { Footer, Content } = Layout;\n\nfunction App() {\n  return (\n    <div className='App'>\n      <Layout>\n        <HeaderComp />\n        <Layout>\n          <Layout>\n            <Content style={{ padding: '0 50px' }}>\n              <div className='site-layout-content'>\n                <SelectComp />\n              </div>\n            </Content>\n            <Footer style={{ textAlign: 'center' }}>Safe Travel</Footer>\n          </Layout>\n        </Layout>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}